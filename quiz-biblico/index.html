<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Teste seus conhecimentos bíblicos e desafie seus amigos!"/>
    <meta name="theme-color" content="#007bff"/>
    <title>Quiz Bíblico Social</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="CSS/style.css">
</head>
<body>

    <div id="app-container" role="application" aria-label="Quiz Bíblico Social">

        <!-- TELA INICIAL -->
        <section id="home-view" class="view active" role="main" aria-labelledby="home-title">
            <header class="app-header">
                <h1 id="home-title">Quiz Bíblico Social</h1>
                <p>Teste seus conhecimentos e desafie seus amigos!</p>
            </header>

            <main class="menu" role="navigation" aria-label="Menu principal">
                <div class="buttons-row">
                    <button id="start-quick-quiz-btn" class="btn btn-primary" aria-label="Iniciar quiz rápido com perguntas aleatórias">▶️ Iniciar Quiz Rápido</button>
                    <button id="start-multiplayer-btn" class="btn btn-secondary" aria-label="Entrar no modo multiplayer online" disabled>⚔️ Jogar Online</button>
                </div>

                <div class="filter-section" role="region" aria-labelledby="theme-title">
                    <h2 id="theme-title">Quiz por Tema</h2>
                    <div id="tags-container" class="tags-container" role="group" aria-label="Selecionar tema do quiz">
                        <!-- As tags serão inseridas aqui pelo JavaScript -->
                    </div>

                    <!-- container para widget de tags (compatível com instruções externas) -->
                    <div id="tags-root" class="tags-container" aria-hidden="true" style="display:none"></div>
                </div>

                <div class="filter-section" role="region" aria-labelledby="difficulty-title">
                    <h2 id="difficulty-title">Quiz por Dificuldade</h2>
                    <div id="difficulty-container" class="difficulty-container" role="group" aria-label="Selecionar nível de dificuldade">
                        <!-- Níveis de dificuldade -->
                    </div>
                </div>

                <footer>
                    <button id="manage-content-btn" class="btn btn-link" aria-label="Acessar painel de gerenciamento de perguntas" disabled>Gerenciar Perguntas</button>
                </footer>
            </main>
        </section>

        <!-- TELA DO QUIZ -->
        <section id="quiz-view" class="view" role="main" aria-labelledby="quiz-title" aria-live="polite">
            <div class="quiz-card" role="region" aria-label="Pergunta do quiz">
                <div class="quiz-header">
                    <div id="quiz-progress" class="quiz-progress" aria-label="Progresso do quiz">Pergunta 1 de 10</div>
                    <div id="quiz-timer" class="quiz-timer" role="timer" aria-label="Tempo restante">
                        <div id="timer-bar" class="timer-bar" aria-hidden="true"></div>
                        <div id="timer-text" class="timer-text" aria-live="assertive">--s</div>
                    </div>
                </div>

                <div id="question-area" class="question-area">
                    <h2 id="question-text">Pergunta aparece aqui</h2>
                </div>

                <div id="options-container" class="options-container" role="radiogroup" aria-labelledby="question-text">
                    <!-- Botões de opção gerados dinamicamente -->
                </div>

                <div id="reference-area" class="reference-area hidden" role="region" aria-labelledby="reference-title">
                    <div class="reference-title" id="reference-title">Resposta correta:</div>
                    <div id="correct-answer" class="correct-answer" aria-live="polite"></div>
                    <div class="reference-title">Referência:</div>
                    <div id="reference-text" class="reference-text"></div>
                    <div class="reference-title">Texto Bíblico (TNM):</div>
                    <div id="biblical-text" class="biblical-text"></div>
                </div>

                <div class="quiz-footer">
                    <button id="next-btn" class="btn btn-primary" disabled aria-label="Ir para próxima pergunta">Próxima</button>
                    <button id="quit-btn" class="btn btn-secondary" aria-label="Sair do quiz e voltar ao menu">Sair</button>
                </div>
            </div>
        </section>

        <!-- TELA MULTIPLAYER -->
        <section id="multiplayer-view" class="view">
            <div class="quiz-card">
                <h2 style="text-align: center; margin-bottom: 1rem;">Modo Multiplayer</h2>

                <div id="multiplayer-menu" class="menu">
                    <div class="buttons-row">
                        <button id="create-room-btn" class="btn btn-primary">Criar Sala</button>
                        <button id="join-room-btn" class="btn btn-secondary">Entrar na Sala</button>
                    </div>

                    <div id="room-creation" class="filter-section" style="display: none;">
                        <h3>Criar Nova Sala</h3>
                        <input type="text" id="room-name" placeholder="Nome da sala" maxlength="20" style="width: 100%; padding: 0.5rem; margin-bottom: 0.5rem; border-radius: 8px; border: 1px solid #ddd;">
                        <div class="buttons-row">
                            <button id="confirm-create-btn" class="btn btn-primary">Criar</button>
                            <button id="cancel-create-btn" class="btn btn-link">Cancelar</button>
                        </div>
                    </div>

                    <div id="room-join" class="filter-section" style="display: none;">
                        <h3>Entrar na Sala</h3>
                        <input type="text" id="room-code" placeholder="Código da sala" maxlength="6" style="width: 100%; padding: 0.5rem; margin-bottom: 0.5rem; border-radius: 8px; border: 1px solid #ddd; text-transform: uppercase;">
                        <div class="buttons-row">
                            <button id="confirm-join-btn" class="btn btn-primary">Entrar</button>
                            <button id="cancel-join-btn" class="btn btn-link">Cancelar</button>
                        </div>
                    </div>

                    <div id="room-lobby" class="filter-section" style="display: none;">
                        <h3 id="lobby-title">Sala: Carregando...</h3>
                        <div id="players-list" style="margin: 1rem 0;">
                            <p>Jogadores:</p>
                            <ul id="players-ul" style="list-style: none; padding: 0;"></ul>
                        </div>
                        <div class="buttons-row">
                            <button id="start-game-btn" class="btn btn-primary" style="display: none;">Iniciar Jogo</button>
                            <button id="leave-room-btn" class="btn btn-link">Sair da Sala</button>
                        </div>
                    </div>
                </div>

                <div class="quiz-footer">
                    <button class="btn btn-link" onclick="window.showView('home-view')">Voltar ao Menu</button>
                </div>
            </div>
        </section>

        <!-- TELA DE GERENCIAMENTO (placeholder) -->
        <section id="admin-view" class="view">
            <h2>Painel de Gerenciamento</h2>
            <p>Em breve: CRUD de perguntas, moderação e import/export.</p>
            <button class="btn btn-link" onclick="window.showView('home-view')">Voltar</button>
        </section>

    </div>

    <script src="JS/main.js"></script>
    <script src="JS/quiz.js"></script>
</body>
</html>