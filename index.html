<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
    <meta name="description" content="Teste seus conhecimentos b√≠blicos e desafie seus amigos!"/>
    <meta name="theme-color" content="#3a6ea5"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="default"/>
    <meta name="apple-mobile-web-app-title" content="JW Quiz"/>
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="msapplication-TileColor" content="#3a6ea5"/>
    <meta name="msapplication-tap-highlight" content="no"/>
    <title>JW Quiz</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="CSS/style.css">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
</head>
<body>

    <div id="app-container" role="application" aria-label="JW Quiz">


        <!-- NOVA TELA DE BOAS-VINDAS REESTILIZADA -->
        <section id="welcome-view" class="view active" role="main" aria-labelledby="welcome-title">
            <div class="main-container welcome-hero">
                <div class="header-title welcome-header">
                    <h1 id="welcome-title">JW Quiz</h1>
                    <p class="welcome-subtitle">Conhecimento B√≠blico Interativo</p>
                </div>
                <nav class="main-menu welcome-actions">
                    <button id="welcome-quiz-btn" class="menu-button quiz-button btn-hero btn-quiz" aria-label="Ir para o Quiz B√≠blico">
                        <span class="button-icon btn-icon">üéØ</span>
                        <div>
                            <span class="button-title btn-text">Quiz B√≠blico</span>
                            <span class="button-subtitle btn-desc">Teste seus conhecimentos</span>
                        </div>
                    </button>
                    <button id="welcome-memory-btn" class="menu-button memory-game-button btn-hero btn-memory" aria-label="Ir para o Jogo da Mem√≥ria">
                        <span class="button-icon btn-icon">üß†</span>
                        <div>
                            <span class="button-title btn-text">Jogo da Mem√≥ria</span>
                            <span class="button-subtitle btn-desc">Divirta-se aprendendo</span>
                        </div>
                    </button>
                </nav>
                <footer class="welcome-footer">
                    <div class="welcome-controls">
                        <button id="welcome-theme-toggle" class="btn-icon-only" aria-label="Alternar tema claro/escuro">
                            <span class="theme-icon">‚òÄÔ∏è</span>
                        </button>
                        <button id="welcome-legal-btn" class="btn-icon-only" aria-label="Ver informa√ß√µes legais">
                            <span class="legal-icon">‚ÑπÔ∏è</span>
                        </button>
                    </div>
                </footer>
            </div>
        </section>

        <!-- TELA DE ADMINISTRA√á√ÉO -->
        <section id="admin-view" class="view" role="main" aria-labelledby="admin-title">
            <div class="quiz-card">
                <header class="stats-header">
                    <h2 id="admin-title">‚öôÔ∏è Administra√ß√£o de Quest√µes</h2>
                    <button id="back-from-admin" class="btn btn-link" aria-label="Voltar ao menu principal">‚Üê Voltar</button>
                </header>

                <div class="admin-content">
                    <!-- Estat√≠sticas R√°pidas -->
                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-value" id="total-questions-count">0</div>
                            <div class="stat-label">Total de Quest√µes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="easy-questions-count">0</div>
                            <div class="stat-label">F√°ceis</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="medium-questions-count">0</div>
                            <div class="stat-label">M√©dias</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="hard-questions-count">0</div>
                            <div class="stat-label">Dif√≠ceis</div>
                        </div>
                    </div>

                    <!-- Filtros e Busca -->
                    <div class="admin-filters">
                        <div class="filter-row">
                            <input type="text" id="search-input" placeholder="Buscar quest√µes..." class="search-input">
                            <select id="difficulty-filter" class="filter-select">
                                <option value="">Todas as dificuldades</option>
                                <option value="1">F√°cil</option>
                                <option value="2">M√©dio</option>
                                <option value="3">Dif√≠cil</option>
                            </select>
                            <select id="tag-filter" class="filter-select">
                                <option value="">Todas as tags</option>
                                <!-- Tags ser√£o populadas dinamicamente -->
                            </select>
                        </div>
                    </div>

                    <!-- Lista de Quest√µes com Pagina√ß√£o -->
                    <div class="questions-list-container">
                        <div id="questions-list" class="questions-list">
                            <!-- Quest√µes ser√£o carregadas aqui -->
                        </div>

                        <!-- Controles de Pagina√ß√£o -->
                        <div class="pagination-controls">
                            <button id="prev-page" class="btn btn-secondary pagination-btn" disabled>‚Üê Anterior</button>
                            <span class="pagination-info">
                                P√°gina <span id="current-page">1</span> de <span id="total-pages">1</span>
                                (<span id="showing-count">0</span> quest√µes)
                            </span>
                            <button id="next-page" class="btn btn-secondary pagination-btn" disabled>Pr√≥xima ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- LOADING OVERLAY -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="loading-container">
                <div class="loading-spinner"></div>
                <h2 class="loading-title">Carregando Quest√µes...</h2>
                <p class="loading-subtitle">Preparando seu quiz b√≠blico</p>
            </div>
        </div>

        <!-- TELA INICIAL ORIGINAL (mantida como backup) -->
        <section id="home-view" class="view" role="main" aria-labelledby="home-title">
            <header class="app-header">
                <button id="back-to-welcome" class="btn-icon-only" aria-label="Voltar √† tela inicial" style="position: absolute; left: 1rem; top: 1rem;">üè†</button>
                <h1 id="home-title">JW Quiz</h1>
            </header>

            <main class="menu" role="navigation" aria-label="Menu principal">
                <div class="buttons-row">
                    <button id="start-quick-quiz-btn" class="btn btn-primary" aria-label="Iniciar quiz r√°pido com perguntas aleat√≥rias">‚ñ∂Ô∏è Iniciar Quiz R√°pido</button>
                    <button id="start-study-mode-btn" class="btn btn-secondary" aria-label="Iniciar modo estudo sem timer">üìö Modo Estudo</button>
                    <button id="start-multiplayer-btn" class="btn btn-secondary" aria-label="Entrar no modo partida em grupo online">üèÜ Partida em Grupo</button>
                </div>

                

                <div class="filter-section" role="region" aria-labelledby="theme-title">
                    <h2 id="theme-title">Quiz por Tema</h2>
                    <div id="tags-container" class="tags-container" role="group" aria-label="Selecionar tema do quiz">
                        <!-- As tags ser√£o inseridas aqui pelo JavaScript -->
                    </div>

                    <!-- container para widget de tags (compat√≠vel com instru√ß√µes externas) -->
                    <div id="tags-root" class="tags-container" aria-hidden="true" style="display:none"></div>
                </div>

                <div class="filter-section" role="region" aria-labelledby="difficulty-title">
                    <h2 id="difficulty-title">Quiz por Dificuldade</h2>
                    <div id="difficulty-container" class="difficulty-container" role="group" aria-label="Selecionar n√≠vel de dificuldade">
                        <!-- N√≠veis de dificuldade -->
                    </div>
                </div>

                <footer>
                    <button id="manage-content-btn" class="btn-icon-only" aria-label="Gerenciar perguntas">
                        <span class="manage-icon">üõ†Ô∏è</span>
                    </button>
                    <button id="show-stats-btn" class="btn btn-link" aria-label="Ver minhas estat√≠sticas pessoais">üìä Minhas Estat√≠sticas</button>
                    <!-- Bot√£o Legal removido deste footer para evitar duplicidade -->
                </footer>
            </main>
        </section>

        <!-- TELA DO QUIZ -->
        <section id="quiz-view" class="view" role="main" aria-labelledby="quiz-title" aria-live="polite">
            <div class="quiz-card" role="region" aria-label="Pergunta do quiz">
                <div class="quiz-header">
                    <div id="quiz-progress" class="quiz-progress" aria-label="Progresso do quiz">Pergunta 1 de 10</div>
                    <div id="quiz-timer" class="quiz-timer" role="timer" aria-label="Tempo restante">
                        <div id="timer-bar" class="timer-bar" aria-hidden="true"></div>
                        <div id="timer-text" class="timer-text" aria-live="assertive">--s</div>
                    </div>
                </div>

                <div id="question-area" class="question-area">
                    <h2 id="question-text">Pergunta aparece aqui</h2>
                </div>

                <div id="options-container" class="options-container" role="radiogroup" aria-labelledby="question-text">
                    <!-- Bot√µes de op√ß√£o gerados dinamicamente -->
                </div>

                <div class="quiz-footer">
                    <button id="next-btn" class="btn btn-primary" disabled aria-label="Ir para pr√≥xima pergunta">Pr√≥xima</button>
                    <button id="quit-btn" class="btn btn-secondary" aria-label="Sair do quiz e voltar ao menu">Sair</button>
                </div>

                <div id="reference-area" class="reference-area hidden" role="region" aria-labelledby="reference-title">
                    <div class="reference-title" id="reference-title">Resposta correta:</div>
                    <div id="correct-answer" class="correct-answer" aria-live="polite"></div>
                    <div class="reference-title">Refer√™ncia:</div>
                    <div id="reference-text" class="reference-text"></div>
                    <div class="reference-title">Texto B√≠blico (TNM):</div>
                    <div id="biblical-text" class="biblical-text"></div>
                    <div id="auto-next-counter" class="auto-next-counter" style="display: none;">
                        <span>Pr√≥xima pergunta em </span>
                        <span id="auto-next-text" class="auto-next-text">10</span>
                        <span> segundos...</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- TELA DE PARTIDA EM GRUPO -->
        <section id="group-view" class="view" role="main" aria-labelledby="group-title">
            <div class="quiz-card">
                <header class="stats-header">
                    <h2 id="group-title">üèÜ Partida em Grupo</h2>
                    <button id="back-from-group" class="btn btn-link" aria-label="Voltar ao menu principal">‚Üê Voltar</button>
                </header>

                <div class="group-content">
                    <!-- Menu Inicial -->
                    <div id="group-menu" class="menu">
                        <div class="buttons-row">
                            <button id="create-group-btn" class="btn btn-primary">üéØ Criar Partida</button>
                            <button id="join-group-btn" class="btn btn-secondary">üîó Entrar na Partida</button>
                        </div>
                    </div>

                    <!-- Criar Partida -->
                    <div id="create-group" class="filter-section" style="display: none;">
                        <h3>üéØ Criar Nova Partida</h3>
                        <div class="group-form">
                            <div class="form-group">
                                <label for="group-name">Nome da Partida:</label>
                                <input type="text" id="group-name" placeholder="Ex: Quiz B√≠blico da Fam√≠lia" maxlength="30" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; border-radius: 8px; border: 1px solid #ddd;">
                            </div>
                            <div class="form-group">
                                <label for="host-name">Seu Nome:</label>
                                <input type="text" id="host-name" placeholder="Digite seu nome" maxlength="20" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; border-radius: 8px; border: 1px solid #ddd;">
                            </div>
                            <div class="buttons-row" style="margin-top: 1rem;">
                                <button id="confirm-create-group" class="btn btn-primary">üöÄ Criar Partida</button>
                                <button id="cancel-create-group" class="btn btn-link">Cancelar</button>
                            </div>
                        </div>
                    </div>

                    <!-- Entrar na Partida -->
                    <div id="join-group" class="filter-section" style="display: none;">
                        <h3>üîó Entrar na Partida</h3>
                        <div class="group-form">
                            <div class="form-group">
                                <label for="group-code">C√≥digo da Partida:</label>
                                <input type="text" id="group-code" placeholder="Cole o c√≥digo aqui" maxlength="8" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; border-radius: 8px; border: 1px solid #ddd; text-transform: uppercase;">
                            </div>
                            <div class="form-group">
                                <label for="player-name">Seu Nome:</label>
                                <input type="text" id="player-name" placeholder="Digite seu nome" maxlength="20" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; border-radius: 8px; border: 1px solid #ddd;">
                            </div>
                            <div class="buttons-row" style="margin-top: 1rem;">
                                <button id="confirm-join-group" class="btn btn-primary">üéÆ Entrar</button>
                                <button id="cancel-join-group" class="btn btn-link">Cancelar</button>
                            </div>
                        </div>
                    </div>

                    <!-- Sala de Espera (Anfitri√£o) -->
                    <div id="group-lobby-host" class="filter-section" style="display: none;">
                        <h3 id="lobby-host-title">üéØ Sala de Espera</h3>
                        <div class="group-info">
                            <div class="group-code-display">
                                <span class="code-label">C√≥digo da Partida:</span>
                                <span id="group-code-display" class="code-value">XXXX-XXXX</span>
                                <button id="copy-code-btn" class="btn btn-link" style="font-size: 0.8rem;">üìã Copiar</button>
                            </div>
                            <div class="group-link-display" style="margin-top: 1rem;">
                                <span class="link-label">Link para Convidados:</span>
                                <div class="link-container">
                                    <input type="text" id="group-link-display" readonly style="width: 100%; padding: 0.5rem; border-radius: 8px; border: 1px solid #ddd; background: var(--bg-secondary);">
                                    <button id="copy-link-btn" class="btn btn-link" style="margin-left: 0.5rem;">üìã Copiar</button>
                                </div>
                            </div>
                        </div>

                        <div class="players-section" style="margin-top: 2rem;">
                            <h4>üë• Jogadores ({!!window.groupPlayers ? window.groupPlayers.length : 0!!}/10)</h4>
                            <div id="players-list-host" class="players-list">
                                <!-- Jogadores ser√£o listados aqui -->
                            </div>
                        </div>

                        <div class="lobby-actions" style="margin-top: 2rem;">
                            <button id="start-group-game" class="btn btn-primary" disabled>‚ñ∂Ô∏è Iniciar Partida</button>
                            <button id="cancel-group-lobby" class="btn btn-link">‚ùå Cancelar Partida</button>
                        </div>
                    </div>

                    <!-- Sala de Espera (Participante) -->
                    <div id="group-lobby-player" class="filter-section" style="display: none;">
                        <h3 id="lobby-player-title">üéÆ Aguardando In√≠cio</h3>
                        <div class="waiting-info">
                            <div class="waiting-message">
                                <p>üéØ Aguardando o anfitri√£o iniciar a partida...</p>
                                <div class="waiting-spinner" style="margin: 1rem 0;">
                                    <div class="spinner"></div>
                                </div>
                            </div>
                            <div class="players-section" style="margin-top: 2rem;">
                                <h4>üë• Jogadores na Partida</h4>
                                <div id="players-list-player" class="players-list">
                                    <!-- Jogadores ser√£o listados aqui -->
                                </div>
                            </div>
                        </div>
                        <div class="lobby-actions" style="margin-top: 2rem;">
                            <button id="leave-group-lobby" class="btn btn-link">üö™ Sair da Partida</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TELA DO JOGO DA MEM√ìRIA - VERS√ÉO TURBINADA 2.0 -->
        <section id="memory-view" class="view" role="main" aria-labelledby="memory-title">
            <div class="memory-container quiz-card">

                <!-- TELA DE CONFIGURA√á√ÉO - TURBINADA 2.0 -->
                <div id="memory-config" class="memory-subview active">

                    <!-- Texto de boas vindas reorganizado -->
                    <div class="memory-welcome-compact">
                        <button id="back-from-memory" class="memory-config-back-btn" aria-label="Voltar ao in√≠cio">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg>
                        </button>
                        <h1>üß† Jogo da Mem√≥ria</h1>
                        <p>Desafie sua mem√≥ria com temas divertidos!</p>
                    </div>

                    <!-- Bot√£o iniciar movido para cima -->
                    <div class="memory-start-early">
                        <button id="start-game" class="start-game-btn memory-start-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16.0037 9.41421L7.39712 18.0208L5.98291 16.6066L14.5895 8H7.00373V6H18.0037V17H16.0037V9.41421Z"></path></svg>
                            <span class="memory-start-text">Iniciar Jogo</span>
                        </button>
                    </div>

                    <div class="config-grid memory-config-hero">
                        <div class="config-header memory-config-header">
                            <h2>Configurar Partida</h2>
                            <p class="memory-config-subtitle">Escolha como voc√™ quer jogar</p>
                        </div>

                        <!-- Grid 2x2 para configura√ß√£o -->
                        <div class="memory-config-grid-2x2">
                            <fieldset class="config-group memory-config-group memory-config-item">
                                <legend>üë• Jogadores</legend>
                                <div class="dropdown-wrapper">
                                    <button class="dropdown-trigger memory-dropdown-trigger" id="players-dropdown-trigger">
                                        <span class="dropdown-text" id="players-dropdown-text">1 Jogador</span>
                                        <span class="dropdown-arrow">‚ñº</span>
                                    </button>
                                    <div class="dropdown-menu memory-dropdown-menu" id="players-dropdown-menu">
                                        <button class="dropdown-option memory-dropdown-option" data-players="1">1 Jogador</button>
                                        <button class="dropdown-option memory-dropdown-option" data-players="2">2 Jogadores</button>
                                        <button class="dropdown-option memory-dropdown-option" data-players="3">3 Jogadores</button>
                                        <button class="dropdown-option memory-dropdown-option" data-players="4">4 Jogadores</button>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset class="config-group memory-config-group memory-config-item">
                                <legend>üé® Tema</legend>
                                <div class="select-wrapper">
                                    <select id="theme-select" class="config-select memory-theme-select">
                                        <option value="animais">Animais</option>
                                        <option value="frutas">Frutas</option>
                                        <option value="transportes">Transportes</option>
                                        <option value="peixes">Vida Marinha</option>
                                        <option value="aves">Aves</option>
                                        <option value="numeros">N√∫meros e S√≠mbolos</option>
                                        <option value="objetos">Objetos</option>
                                        <option value="natureza">Natureza</option>
                                    </select>
                                </div>
                            </fieldset>

                            <fieldset class="config-group memory-config-group memory-config-item">
                                <legend>üéØ Pares</legend>
                                <div class="dropdown-wrapper">
                                    <button class="dropdown-trigger memory-dropdown-trigger" id="pairs-dropdown-trigger">
                                        <span class="dropdown-text" id="pairs-dropdown-text">6 Pares</span>
                                        <span class="dropdown-arrow">‚ñº</span>
                                    </button>
                                    <div class="dropdown-menu memory-dropdown-menu" id="pairs-dropdown-menu">
                                        <button class="dropdown-option memory-dropdown-option" data-pairs="6">6 Pares (F√°cil)</button>
                                        <button class="dropdown-option memory-dropdown-option" data-pairs="8">8 Pares (M√©dio)</button>
                                        <button class="dropdown-option memory-dropdown-option" data-pairs="10">10 Pares (Dif√≠cil)</button>
                                        <button class="dropdown-option memory-dropdown-option" data-pairs="12">12 Pares (Expert)</button>
                                        <button class="dropdown-option memory-dropdown-option" data-pairs="15">15 Pares (Mestre)</button>
                                        <button class="dropdown-option memory-dropdown-option" data-pairs="20">20 Pares (Lenda)</button>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset class="config-group memory-config-group memory-config-item">
                                <legend>üîä √Åudio</legend>
                                <div class="sound-toggle-wrapper memory-sound-toggle">
                                    <input type="checkbox" id="sound-toggle" checked>
                                    <label for="sound-toggle">Efeitos Sonoros</label>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>

                <!-- TELA DO JOGO - TURBINADA 2.0 -->
                <div id="memory-game" class="memory-subview">
                    <!-- Barra superior minimalista -->
                    <div class="memory-game-header">
                        <div class="memory-game-line"></div>
                        <div class="memory-game-controls">
                            <button id="game-home-btn" class="memory-game-btn" aria-label="Voltar ao in√≠cio">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
                            </button>
                            <button id="back-to-config" class="memory-game-btn" aria-label="Voltar √†s configura√ß√µes">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg>
                            </button>
                        </div>
                    </div>

                    <div class="memory-content">
                        <!-- Barra superior com dados da partida -->
                        <div class="game-status-bar">
                            <div id="status-display" class="status-players status-item status-main">
                                <!-- Status dos jogadores ser√° inserido aqui pelo JavaScript -->
                            </div>
                            <div id="timer-display" class="status-timer status-item hidden">
                                <span class="status-label">‚è±Ô∏è</span>
                                <span id="timer-text" class="status-value">00:00</span>
                            </div>
                        </div>

                        <!-- Tabuleiro do jogo -->
                        <div class="game-board-container game-container">
                            <section id="game-board" class="game-board">
                                <!-- As cartas ser√£o geradas aqui pelo JavaScript -->
                            </section>
                        </div>

                        <!-- Bot√µes de controle -->
                        <div class="game-controls">
                            <button id="restart-game" class="btn-icon-link btn btn-secondary">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"></path></svg>
                                Reiniciar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TELA DE ANALYTICS (Desenvolvedor) -->
        <section id="analytics-view" class="view" role="main" aria-labelledby="analytics-title">
            <div class="quiz-card">
                <header class="stats-header">
                    <h2 id="analytics-title">üìä Analytics (Desenvolvedor)</h2>
                    <button id="back-from-analytics" class="btn btn-link" aria-label="Voltar ao menu principal">‚Üê Voltar</button>
                </header>

                <div class="stats-content">
                    <!-- M√©tricas Gerais -->
                    <div class="stats-section">
                        <h3>üë• Usu√°rios e Sess√µes</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-users">0</div>
                                <div class="stat-label">Usu√°rios √önicos</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-sessions">0</div>
                                <div class="stat-label">Total de Sess√µes</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-avg-session">0s</div>
                                <div class="stat-label">Tempo M√©dio/Sess√£o</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-completion">0%</div>
                                <div class="stat-label">Taxa de Conclus√£o</div>
                            </div>
                        </div>
                    </div>

                    <!-- Atividade -->
                    <div class="stats-section">
                        <h3>üéÆ Atividade</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-quizzes">0</div>
                                <div class="stat-label">Quizzes Iniciados</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-questions">0</div>
                                <div class="stat-label">Perguntas Respondidas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-light-theme">0</div>
                                <div class="stat-label">Usam Tema Claro</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="analytics-dark-theme">0</div>
                                <div class="stat-label">Usam Tema Escuro</div>
                            </div>
                        </div>
                    </div>

                    <!-- Dispositivos -->
                    <div class="stats-section">
                        <h3>üì± Dispositivos</h3>
                        <div id="device-stats" class="category-stats">
                            <!-- Ser√° preenchido dinamicamente -->
                        </div>
                    </div>

                    <!-- Uso por Hora -->
                    <div class="stats-section">
                        <h3>üïê Uso por Hora do Dia</h3>
                        <div class="hourly-chart" id="hourly-chart">
                            <!-- Ser√° preenchido dinamicamente -->
                        </div>
                    </div>

                    <!-- A√ß√µes do Desenvolvedor -->
                    <div class="stats-actions">
                        <button id="export-analytics" class="btn btn-primary">üì§ Exportar Dados Completos</button>
                        <button id="clear-analytics" class="btn btn-secondary">üóëÔ∏è Limpar Analytics</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- TELA DE ESTAT√çSTICAS -->
        <section id="stats-view" class="view" role="main" aria-labelledby="stats-title">
            <div class="quiz-card">
                <header class="stats-header">
                    <h2 id="stats-title">üìä Minhas Estat√≠sticas</h2>
                    <button id="back-from-stats" class="btn btn-link" aria-label="Voltar ao menu principal">‚Üê Voltar</button>
                </header>

                <div class="stats-content">
                    <!-- Estat√≠sticas Gerais -->
                    <div class="stats-section">
                        <h3>üéØ Estat√≠sticas Gerais</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="total-games">0</div>
                                <div class="stat-label">Jogos Jogados</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-questions">0</div>
                                <div class="stat-label">Perguntas Respondidas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="accuracy-rate">0%</div>
                                <div class="stat-label">Taxa de Acerto</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="best-streak">0</div>
                                <div class="stat-label">Melhor Sequ√™ncia</div>
                            </div>
                        </div>
                    </div>

                    <!-- Estat√≠sticas de Tempo -->
                    <div class="stats-section">
                        <h3>‚è±Ô∏è Estat√≠sticas de Tempo</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="avg-time">0s</div>
                                <div class="stat-label">Tempo M√©dio/Pergunta</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-time">0min</div>
                                <div class="stat-label">Tempo Total Jogado</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="fastest-answer">0s</div>
                                <div class="stat-label">Resposta Mais R√°pida</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="study-sessions">0</div>
                                <div class="stat-label">Sess√µes de Estudo</div>
                            </div>
                        </div>
                    </div>

                    <!-- Estat√≠sticas por Categoria -->
                    <div class="stats-section">
                        <h3>üìÇ Desempenho por Categoria</h3>
                        <div id="category-stats" class="category-stats">
                            <!-- Ser√° preenchido dinamicamente -->
                        </div>
                    </div>

                    <!-- Estat√≠sticas por Dificuldade -->
                    <div class="stats-section">
                        <h3>üéöÔ∏è Desempenho por Dificuldade</h3>
                        <div class="difficulty-stats">
                            <div class="difficulty-bar">
                                <span class="difficulty-label">F√°cil</span>
                                <div class="progress-bar">
                                    <div class="progress-fill easy-fill" id="easy-progress" style="width: 0%"></div>
                                </div>
                                <span class="difficulty-rate" id="easy-rate">0%</span>
                            </div>
                            <div class="difficulty-bar">
                                <span class="difficulty-label">M√©dio</span>
                                <div class="progress-bar">
                                    <div class="progress-fill medium-fill" id="medium-progress" style="width: 0%"></div>
                                </div>
                                <span class="difficulty-rate" id="medium-rate">0%</span>
                            </div>
                            <div class="difficulty-bar">
                                <span class="difficulty-label">Dif√≠cil</span>
                                <div class="progress-bar">
                                    <div class="progress-fill hard-fill" id="hard-progress" style="width: 0%"></div>
                                </div>
                                <span class="difficulty-rate" id="hard-rate">0%</span>
                            </div>
                        </div>
                    </div>

                    <!-- A√ß√µes -->
                    <div class="stats-actions">
                        <button id="reset-stats" class="btn btn-secondary">üîÑ Resetar Estat√≠sticas</button>
                        <button id="export-stats" class="btn btn-link">üì§ Exportar Dados</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- TELA LEGAL -->
        <section id="legal-view" class="view" role="main" aria-labelledby="legal-title">
            <div class="quiz-card">
                <header class="stats-header">
                    <h2 id="legal-title">‚ÑπÔ∏è Informa√ß√µes Legais</h2>
                    <button id="back-from-legal" class="btn btn-link" aria-label="Voltar ao menu principal">‚Üê Voltar</button>
                </header>

                <div class="legal-content">
                    <div class="legal-section">
                        <h3>üìã Termos de Uso</h3>
                        <div class="legal-text">
                            <p>Bem-vindo ao JW Quiz! Este aplicativo foi desenvolvido para fins educacionais e de entretenimento, visando promover o conhecimento b√≠blico de forma interativa.</p>

                            <h4>1. Uso do Aplicativo</h4>
                            <p>O JW Quiz √© um aplicativo gratuito para uso pessoal. Voc√™ pode:</p>
                            <ul>
                                <li>Jogar quizzes individuais ou em grupo</li>
                                <li>Acessar estat√≠sticas pessoais</li>
                                <li>Usar o modo estudo sem limite de tempo</li>
                                <li>Jogar o jogo da mem√≥ria</li>
                            </ul>

                            <h4>2. Conte√∫do B√≠blico</h4>
                            <p>As perguntas e respostas s√£o baseadas na B√≠blia Sagrada. Este aplicativo n√£o substitui o estudo pessoal das Escrituras Sagradas nem representa uma organiza√ß√£o religiosa oficial.</p>

                            <h4>3. Responsabilidades</h4>
                            <p>O usu√°rio √© respons√°vel por seu uso adequado do aplicativo. N√£o nos responsabilizamos por:</p>
                            <ul>
                                <li>Uso indevido das informa√ß√µes apresentadas</li>
                                <li>Interpreta√ß√µes pessoais do conte√∫do b√≠blico</li>
                                <li>Problemas t√©cnicos ou perda de dados</li>
                            </ul>
                        </div>
                    </div>

                    <div class="legal-section">
                        <h3>üîí Pol√≠tica de Privacidade</h3>
                        <div class="legal-text">
                            <p>Respeitamos sua privacidade. Este aplicativo:</p>

                            <h4>1. Dados Coletados</h4>
                            <ul>
                                <li><strong>Dados de uso:</strong> Estat√≠sticas de jogo, prefer√™ncias de tema</li>
                                <li><strong>Dados t√©cnicos:</strong> Tipo de dispositivo, navegador, sistema operacional</li>
                                <li><strong>Dados de sess√£o:</strong> Tempo de uso, p√°ginas visitadas</li>
                            </ul>

                            <h4>2. Armazenamento</h4>
                            <p>Todos os dados s√£o armazenados localmente no seu dispositivo. N√£o enviamos dados para servidores externos.</p>

                            <h4>3. Cookies e LocalStorage</h4>
                            <p>Usamos localStorage do navegador para salvar:</p>
                            <ul>
                                <li>Prefer√™ncias do usu√°rio (tema claro/escuro)</li>
                                <li>Estat√≠sticas pessoais de jogo</li>
                                <li>Dados de analytics (opcional)</li>
                            </ul>

                            <h4>4. Compartilhamento</h4>
                            <p>N√£o compartilhamos seus dados pessoais com terceiros. Os dados permanecem exclusivamente no seu dispositivo.</p>
                        </div>
                    </div>

                    <div class="legal-section">
                        <h3>¬©Ô∏è Direitos Autorais</h3>
                        <div class="legal-text">
                            <h4>1. Conte√∫do do Aplicativo</h4>
                            <p>O c√≥digo do aplicativo JW Quiz √© distribu√≠do sob licen√ßa MIT. As perguntas e respostas s√£o de dom√≠nio p√∫blico ou foram criadas especificamente para este projeto educacional.</p>

                            <h4>2. B√≠blia e Textos Sagrados</h4>
                            <p>Os textos b√≠blicos citados seguem a Tradu√ß√£o do Novo Mundo (TNM) das Escrituras Sagradas, usada com permiss√£o para fins educacionais n√£o comerciais.</p>

                            <h4>3. Imagens e √çcones</h4>
                            <p>Os √≠cones e emojis utilizados s√£o de fontes p√∫blicas ou licenciadas para uso gratuito.</p>

                            <h4>4. Uso N√£o Comercial</h4>
                            <p>Este aplicativo √© desenvolvido para fins educacionais e n√£o comerciais. Qualquer uso comercial requer autoriza√ß√£o pr√©via.</p>
                        </div>
                    </div>

                    <div class="legal-section">
                        <h3>üìû Contato</h3>
                        <div class="legal-text">
                            <p>Para d√∫vidas, sugest√µes ou relatar problemas:</p>
                            <ul>
                                <li><strong>Email:</strong> [seu-email@exemplo.com]</li>
                                <li><strong>GitHub:</strong> <a href="https://github.com/leniredenis-bit/JW-Quiz" target="_blank">leniredenis-bit/JW-Quiz</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="legal-section">
                        <h3>üìÖ √öltima Atualiza√ß√£o</h3>
                        <div class="legal-text">
                            <p>Esta pol√≠tica foi atualizada em: <strong>Novembro de 2025</strong></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Modal de Fim de Jogo -->
        <div id="end-game-modal" class="modal-overlay hidden">
            <div class="modal-content end-game-content">
                <div id="confetti-container"></div>
                <h2 id="end-game-title">Quiz Finalizado!</h2>
                <p id="end-game-message">Voc√™ acertou 8 de 10 perguntas!</p>
                <div class="end-game-stats">
                    <div class="stat-item">
                        <strong>Pontua√ß√£o:</strong>
                        <span id="end-game-score">1200</span>
                    </div>
                    <div class="stat-item">
                        <strong>Precis√£o:</strong>
                        <span id="end-game-accuracy">80%</span>
                    </div>
                    <div class="stat-item">
                        <strong>Tempo:</strong>
                        <span id="end-game-time">2m 15s</span>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="play-again-btn" class="btn-primary">Jogar Novamente</button>
                    <button id="back-to-menu-btn" class="btn-secondary">Voltar ao Menu</button>
                </div>
            </div>
        </div>

    </div>

    <script src="JS/quiz.js"></script>
    <script src="JS/achievements.js"></script>
    <script src="JS/main.js"></script>
    <script src="JS/unregister-sw.js"></script>
    <script src="JS/debug.js"></script>
    <script src="JS/script.js"></script>
</body>
</html>